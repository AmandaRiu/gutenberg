# UI Utils

Collection of utilities for building user interfaces.

## Installation

Install the module

```bash
npm install @wordpress/ui-utils --save
```

_This package assumes that your code will run in an **ES2015+** environment. If you're using an environment that has limited or no support for ES2015+ such as lower versions of IE then using [core-js](https://github.com/zloirock/core-js) or [@babel/polyfill](https://babeljs.io/docs/en/next/babel-polyfill) will add support for these methods. Learn more about it in [Babel docs](https://babeljs.io/docs/en/next/caveats)._

<!-- START TOKEN(Autogenerated API docs) -->

<a name="add" href="#add">#</a> **add**

Safely adds 2 values.

_Parameters_

-   _args_ `Array<(number|string|undefined)>`: Values to add together.

_Returns_

-   `number`: The sum of values.

<a name="arrayFill" href="#arrayFill">#</a> **arrayFill**

Creates an array prefilled with an amount.

_Parameters_

-   _amount_ `number`: 

_Returns_

-   `Array<number>`: The filled array.

<a name="arrayMove" href="#arrayMove">#</a> **arrayMove**

Moves an array item to a different position.

See:
<https://github.com/sindresorhus/array-move#readme>

_Parameters_

-   _array_ `Array`: The array containing the items to move.
-   _from_ `number`: The source index.
-   _to_ `number`: The destination index.

_Returns_

-   `Array`: The updated array.

<a name="clearSelection" href="#clearSelection">#</a> **clearSelection**

Clears the text selection on screen.

<a name="colorize" href="#colorize">#</a> **colorize**

A library for color manipulation and conversion.

See:
<https://github.com/bgrins/TinyColor>

<a name="createUnitValue" href="#createUnitValue">#</a> **createUnitValue**

Combines a value and a unit into a unit value.

_Parameters_

-   _value_ `(string|number)`: 
-   _unit_ `[string]`: 

_Returns_

-   `string`: The unit value.

<a name="deepEqual" href="#deepEqual">#</a> **deepEqual**

Checks to see if 2 values are equal (with support for deeply nested Objects and Arrays).

<a name="deepMerge" href="#deepMerge">#</a> **deepMerge**

Merges two objects together, with support for deeply nested values.

<a name="getComputedBackgroundColor" href="#getComputedBackgroundColor">#</a> **getComputedBackgroundColor**

Retrieves the computed background color. This is useful for getting the
value of a CSS variable color.

_Parameters_

-   _color_ `(string|unknown)`: The background color to compute.

_Returns_

-   `string`: The computed background color.

<a name="getComputedColor" href="#getComputedColor">#</a> **getComputedColor**

Retrieves the computed text color. This is useful for getting the
value of a CSS variable color.

_Parameters_

-   _color_ `(string|unknown)`: 

_Returns_

-   `string`: The computed text color.

<a name="getDisplayName" href="#getDisplayName">#</a> **getDisplayName**

Gets the displayName of a React Component or element.

_Parameters_

-   _tagName_ (unknown type): 

_Returns_

-   `string`: The display name of the Component / tagName.

<a name="getNumber" href="#getNumber">#</a> **getNumber**

Parses and retrieves a number value.

_Parameters_

-   _value_ `unknown`: The incoming value.

_Returns_

-   `number`: The parsed number value.

<a name="getOptimalTextColor" href="#getOptimalTextColor">#</a> **getOptimalTextColor**

Get the text shade optimized for readability, based on a background color.

_Parameters_

-   _color_ `(string|unknown)`: The background color.

_Returns_

-   `string`: The optimized text color (black or white).

<a name="getOptimalTextShade" href="#getOptimalTextShade">#</a> **getOptimalTextShade**

Get the text shade optimized for readability, based on a background color.

_Parameters_

-   _color_ `(string|unknown)`: The background color.

_Returns_

-   `string`: The optimized text shade (dark or light).

<a name="getParsedCSSValue" href="#getParsedCSSValue">#</a> **getParsedCSSValue**

Gets the value to be applied to the CSS Object Model.

_Parameters_

-   _initialValue_ `string`: 

_Returns_

-   `(number|string|undefined)`: The parsed CSS value.

<a name="getParsedValue" href="#getParsedValue">#</a> **getParsedValue**

Handles legacy value + unit handling.
This component use to manage both incoming value and units separately.

Moving forward, ideally the value should be a string that contains both
the value and unit, example: '10px'

_Parameters_

-   _value_ `(number|string)`: Value
-   _unit_ `string`: Unit value

_Returns_

-   `ReturnType<parseUnitValue>`: The extracted number and unit.

<a name="getPrecision" href="#getPrecision">#</a> **getPrecision**

Determines the decimal position of a number value.

_Parameters_

-   _value_ `number`: The number to evaluate.

_Returns_

-   `number`: The number of decimal places.

<a name="getValidChildren" href="#getValidChildren">#</a> **getValidChildren**

Gets a collection of available children elements from a React component's children prop.

_Parameters_

-   _children_ (unknown type): 

_Returns_

-   (unknown type): An array of available children.

<a name="hasUnits" href="#hasUnits">#</a> **hasUnits**

Checks if units are defined.

_Parameters_

-   _units_ `any`: Units to check.

_Returns_

-   `boolean`: Whether units are defined.

<a name="hoistNonReactStatics" href="#hoistNonReactStatics">#</a> **hoistNonReactStatics**

Copies non-react specific statics from a child component to a parent component.
Similar to Object.assign, but with React static keywords prevented from being overridden.

<a name="interpolate" href="#interpolate">#</a> **interpolate**

Gets a value based on an input range and an output range.
Can be used for a set of numbers or a set of colors.

_Parameters_

-   _input_ `[number]`: 
-   _inputRange_ `[(number|number)]`: 
-   _outputRange_ `[(number|number)]`: 

_Returns_

-   `*`: The interpolated value.

<a name="interpolateRounded" href="#interpolateRounded">#</a> **interpolateRounded**

Gets a rounded value based on an input range and an output range.

_Parameters_

-   _args_ `Parameters<interpolate>`: 

_Returns_

-   `number`: The rounded interpolated value.

<a name="is" href="#is">#</a> **is**

A collection of type checks.

<a name="isChrome" href="#isChrome">#</a> **isChrome**

Check if the browser is Chrome.

_Returns_

-   `boolean`: True, if Chrome.

<a name="isColor" href="#isColor">#</a> **isColor**

_Parameters_

-   _value_ `(string|unknown)`: 

_Returns_

-   `boolean`: Whether the value is a valid color.

<a name="isFirefox" href="#isFirefox">#</a> **isFirefox**

Check if the browser is Firefox.

_Returns_

-   `boolean`: True, if Firefox.

<a name="isRenderProp" href="#isRenderProp">#</a> **isRenderProp**

Checks to see if a `children` prop is a render function prop.

_Parameters_

-   _children_ `*`: 

_Returns_

-   `boolean`: True, if children is a render function prop.

<a name="isSafari" href="#isSafari">#</a> **isSafari**

Check if the browser is Safari.

_Returns_

-   `boolean`: True, if Safari.

<a name="isValidCSSValueForProp" href="#isValidCSSValueForProp">#</a> **isValidCSSValueForProp**

Checks if a value is valid given a CSS prop.

_Parameters_

-   _prop_ `string`: 
-   _value_ `string`: 

_Returns_

-   `boolean`: Whether the value is a valid CSS value.

<a name="isValidNumericUnitValue" href="#isValidNumericUnitValue">#</a> **isValidNumericUnitValue**

Checks a value to see if it is a valid numeric unit value.

Examples of valid numeric unit values include:
0px, 1em, 0, -1, 12.5px

_Parameters_

-   _value_ `string`: 

_Returns_

-   `boolean`: Whether the value is a valid numeric unit value.

<a name="memoize" href="#memoize">#</a> **memoize**

Creates a function that memoizes the result of a `function`.

See:
<https://www.npmjs.com/package/memize>

<a name="mergeEvent" href="#mergeEvent">#</a> **mergeEvent**

Merges event handlers together.

_Parameters_

-   _handler_ (unknown type): 
-   _otherHandler_ (unknown type): 

<a name="mergeEventHandlers" href="#mergeEventHandlers">#</a> **mergeEventHandlers**

Merges a set of event handlers together.

_Parameters_

-   _handlers_ (unknown type): 
-   _extraHandlers_ (unknown type): 

<a name="mergeRefs" href="#mergeRefs">#</a> **mergeRefs**

Merges React `ref` together.

<a name="mergeValidationFunctions" href="#mergeValidationFunctions">#</a> **mergeValidationFunctions**

Merges validation functions together.

_Parameters_

-   _validate_ (unknown type): 
-   _extraValidate_ (unknown type): 

_Returns_

-   `(Function|undefined)`: A single merged validation function.

<a name="normalizeArrowKey" href="#normalizeArrowKey">#</a> **normalizeArrowKey**

Normalizes the 'key' property of a KeyboardEvent in IE/Edge

Source:
<https://github.com/downshift-js/downshift/blob/a71005bd879d05d7dcb892d1e0dc5c6ca74e9d39/src/utils.js#L279>

_Parameters_

-   _event_ (unknown type): A keyboardEvent object

_Returns_

-   `string`: The keyboard key

<a name="parseUnitValue" href="#parseUnitValue">#</a> **parseUnitValue**

Parses a number and unit from a value.

_Parameters_

-   _initialValue_ `(string|number)`: Value to parse

_Returns_

-   (unknown type): The extracted number and unit.

<a name="renderChildren" href="#renderChildren">#</a> **renderChildren**

Handles the rendering of a React component's children prop, which
may be a render function prop.

_Parameters_

-   _children_ `*`: Children to render.
-   _props_ `*`: Props to pass into a (potential) children render function.

_Returns_

-   `*`: The rendered children.

<a name="roundClamp" href="#roundClamp">#</a> **roundClamp**

Clamps a value based on a min/max range with rounding

_Parameters_

-   _value_ `[number]`: The value.
-   _min_ `[number]`: The minimum range.
-   _max_ `[number]`: The maximum range.
-   _step_ `[number]`: A multiplier for the value.

_Returns_

-   `number`: The rounded and clamped value.

<a name="roundClampString" href="#roundClampString">#</a> **roundClampString**

Clamps a value based on a min/max range with rounding.
Returns a string.

_Parameters_

-   _args_ `Parameters<roundClamp>`: Arguments for roundClamp(). \*

_Returns_

-   `string`: The rounded and clamped value.

<a name="simpleEqual" href="#simpleEqual">#</a> **simpleEqual**

Quickly checks to see if two objects (shallow or deep) are equal.

_Parameters_

-   _objA_ `any`: 
-   _objB_ `any`: 

_Returns_

-   `boolean`: Whether the values are equal.

<a name="subtract" href="#subtract">#</a> **subtract**

Safely subtracts 2 values.

_Parameters_

-   _args_ `Array<(number|string|undefined)>`: Values to subtract together.

_Returns_

-   `number`: The difference of the 2 values.

<a name="useControlledState" href="#useControlledState">#</a> **useControlledState**

Custom hooks for "controlled" components to track and consolidate internal
state and incoming values. This is useful for components that render
`input`, `textarea`, or `select` HTML elements.

<https://reactjs.org/docs/forms.html#controlled-components>

At first, a component using useControlledState receives an initial prop
value, which is used as initial internal state.

This internal state can be maintained and updated without
relying on new incoming prop values.

Unlike the basic useState hook, useControlledState's state can
be updated if a new incoming prop value is changed.

_Parameters_

-   _currentState_ `(T|undefined)`: The current value.
-   _options_ `[Options<T>]`: Additional options for the hook.

_Returns_

-   (unknown type): The controlled value and the value setter.

<a name="useIsomorphicLayoutEffect" href="#useIsomorphicLayoutEffect">#</a> **useIsomorphicLayoutEffect**

`useLayoutEffect` that does not show warning when server-side rendering, see Alex Reardon's article for more info.
<https://medium.com/@alexandereardon/uselayouteffect-and-ssr-192986cdcf7a>

<a name="useLocalState" href="#useLocalState">#</a> **useLocalState**

Used to read/write state to localStorage.

_Parameters_

-   _currentState_ `(T|undefined)`: The current value.

_Returns_

-   (unknown type): The state an state setter.

<a name="useMediaQuery" href="#useMediaQuery">#</a> **useMediaQuery**

Checks to see if the media query matches the current viewport.

Source:
<https://github.com/jaredpalmer/the-platform>

_Parameters_

-   _query_ `(string|Object)`: 
-   _defaultMatches_ `boolean`: 

_Returns_

-   `boolean`: Whether the query matches the current viewport.

<a name="useSealedState" href="#useSealedState">#</a> **useSealedState**

React custom hook that returns the very first value passed to `initialState`,
even if it changes between re-renders.

_Parameters_

-   _initialState_ `T`: 

_Returns_

-   `T`: The sealed state.

<a name="useUniqueId" href="#useUniqueId">#</a> **useUniqueId**

Provides a unique instance ID.

_Parameters_

-   _object_ `unknown`: Object reference to create an id for.
-   _prefix_ `string`: Prefix for the unique id.
-   _preferredId_ `string`: Default ID to use.

_Returns_

-   `(string|number)`: The unique id.

<a name="useUpdateEffect" href="#useUpdateEffect">#</a> **useUpdateEffect**

A `React.useEffect` that will not run on the first render.

Source:
<https://github.com/reakit/reakit/blob/master/packages/reakit-utils/src/useUpdateEffect.ts>

_Parameters_

-   _effect_ (unknown type): 
-   _deps_ `Array<unknown>`: 


<!-- END TOKEN(Autogenerated API docs) -->
